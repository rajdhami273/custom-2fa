const { getFiles } = require('./fn');

module.exports = (globalVariable) => {
    const mPaths = getFiles(globalVariable.rootDir, 'middlewares', 'middleware.js');
    const middlewares = mPaths.reduce((t, c) => {
        const s = require(globalVariable.rootDir + '/' + c.path);
        t[c.name] = s;
        return t;
    }, {});
    return middlewares;
}